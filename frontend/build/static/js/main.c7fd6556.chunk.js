(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e){e.exports=JSON.parse('{"name":"frontend","version":"0.1.0","private":true,"dependencies":{"@fortawesome/fontawesome-svg-core":"^1.2.32","@fortawesome/free-solid-svg-icons":"^5.15.1","@fortawesome/react-fontawesome":"^0.1.14","@metamask/detect-provider":"^1.2.0","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.6.0","abi-decoder":"^2.3.0","bootstrap":"^4.5.3","ethers":"^5.0.24","lodash":"^4.17.20","node-sass":"^4.14.1","react":"^17.0.1","react-bootstrap":"^1.4.0","react-dom":"^17.0.1","react-qr-reader":"^2.2.1","react-redux":"^7.2.2","react-router-dom":"^5.2.0","react-scripts":"4.0.1","react-switch":"^6.0.0","react-webcam":"^5.2.2","recompose":"^0.30.0","redux":"^4.0.5","redux-logger":"^3.0.6","redux-thunk":"^2.3.0","web-vitals":"^0.2.4","web3":"^1.3.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},241:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"initialSupply","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},242:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"_poolInterval","type":"uint256"},{"internalType":"uint256","name":"_operatorFee","type":"uint256"},{"internalType":"contract IERC20","name":"_token","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"allPools","outputs":[{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"uint256","name":"totalPoolAmount","type":"uint256"},{"internalType":"uint256","name":"winner","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"operatorFee","type":"uint256"},{"internalType":"bool","name":"completed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"number","type":"uint256"}],"name":"bid","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"bids","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"number","type":"uint256"},{"internalType":"uint256","name":"poolId","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentPool","outputs":[{"internalType":"uint256","name":"poolId","type":"uint256"},{"internalType":"uint256","name":"totalPoolAmount","type":"uint256"},{"internalType":"uint256","name":"winner","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"operatorFee","type":"uint256"},{"internalType":"bool","name":"completed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"poolId","type":"uint256"}],"name":"getMyBet","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"number","type":"uint256"},{"internalType":"uint256","name":"winner","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lastSyncBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operatorFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"bettor","type":"address"}],"name":"pendingBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"poolBets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolInterval","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_poolInterval","type":"uint256"}],"name":"setPoolInterval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_status","type":"bool"}],"name":"setPoolStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sync","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_operatorFee","type":"uint256"}],"name":"updateOperatorFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withrawRewards","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},245:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(246),r=n(8),i=n(9),s=n(15),o=n(14),c=n(0),u=n.n(c),l=n(110);e.appVersion=l.version;var p=function(t){Object(s.a)(c,t);var n=Object(o.a)(c);function c(e){var t;return Object(r.a)(this,c),(t=n.call(this,e)).state={loading:!0,isLatestVersion:!1,refreshCacheAndReload:function(){console.log("Clearing cache and hard reloading..."),caches&&caches.keys().then((function(e){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;caches.delete(r)}}catch(i){n.e(i)}finally{n.f()}})),window.location.reload(!0)}},t}return Object(i.a)(c,[{key:"componentDidMount",value:function(){var t=this;fetch("/meta.json?v=".concat(Date.now())).then((function(e){return e.json()})).then((function(n){var a=n.version;(function(e,t){for(var n=e.split(/\./g),a=t.split(/\./g);n.length||a.length;){var r=Number(n.shift()),i=Number(a.shift());if(r!==i)return r>i||isNaN(i)}return!1})(a,e.appVersion)?(console.log("We have a new version - ".concat(a,". Should force refresh")),t.setState({loading:!1,isLatestVersion:!1})):(console.log("You already have the latest version - ".concat(a,". No cache refresh needed.")),t.setState({loading:!1,isLatestVersion:!0}))}))}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.isLatestVersion,a=e.refreshCacheAndReload;return this.props.children({loading:t,isLatestVersion:n,refreshCacheAndReload:a})}}]),c}(u.a.Component)}).call(this,n(19))},276:function(e,t){},300:function(e,t){},302:function(e,t){},381:function(e,t){},383:function(e,t){},415:function(e,t){},420:function(e,t){},422:function(e,t){},429:function(e,t){},442:function(e,t){},521:function(e,t,n){},523:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"WalletConnected",(function(){return x})),n.d(a,"NetworkChanged",(function(){return g})),n.d(a,"AccountChanged",(function(){return T})),n.d(a,"WalletDisconnected",(function(){return k})),n.d(a,"NetworkValid",(function(){return M})),n.d(a,"NetworkInValid",(function(){return C}));var r=n(0),i=n.n(r),s=n(40),o=n.n(s),c=n(60),u=n(8),l=n(9),p=n(15),d=n(14),m=n(22),y=n(47),b="WALLET_CONNECTED",h="WALLET_DISCONNECTED",f="WALLET_BALANCE_DATA",j="WALLET_ADDRESS_CHANGED",v="WALLET_CHAIN_CHANGED",O="NETWORK_VALID",w="NETWORK_INVALID",x=function(e){var t=e.address,n=e.chain_id;return{type:b,payload:{address:t,chain_id:n}}},g=function(e){return{type:v,payload:{chain_id:e}}},T=function(e){return{type:j,payload:{address:e}}},k=function(){return{type:h}},M=function(){return{type:O}},C=function(){return{type:w}},N=n(49),D=n(244),A=n(534),S=n(532),P=n(527),_=n(528),E=n(241),I=n(242),F=n(1),B="Matka",L={token:"0x3270FeB4DA58eD8d95Bd8f04CBA5B24a1bb4925a",matka:"0x7717FC488464efa40AaABB260D063d7783660C44"},V={token:E,matka:I},R=function(e){var t=function(e){return{days:Math.floor(e/86400),hours:Math.floor(e%86400/3600),minutes:Math.floor(e%86400%3600/60),seconds:Math.floor(e%86400%3600%60)}}(e),n=t.days,a=t.hours,r=t.minutes,i=t.seconds;return Object(F.jsxs)("span",{className:"timer",children:[Object(F.jsx)("span",{className:"days",children:n}),":",Object(F.jsx)("span",{className:"hours",children:a}),":",Object(F.jsx)("span",{className:"minutes",children:r}),"::",Object(F.jsx)("span",{className:"seconds",children:i})]})},W=function(e){var t=Math.pow(10,18);return function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var n="",a=e<0?"-":"",r=t[0].replace(".",""),i=Number(t[1])+1;if(i<0){for(n=a+"0.";i++;)n+="0";return n+r.replace(/^\-/,"")}for(i-=r.length;i--;)n+="0";return r+n}(parseFloat(e)*t)},H=function(e){var t=Math.pow(10,18);return parseFloat(e)/t},J="DD:HH:MM::SS",K=n(18),U=n(27),G=n(61),Y=n(530);var q=function(e){var t=e.children,n=e.btnName,a=void 0===n?"View":n,i=e.btnVariant,s=void 0===i?"info":i,o=e.disableSubmit,c=void 0!==o&&o,u=Object(G.a)(e,["children","btnName","btnVariant","disableSubmit"]),l=Object(r.useState)(!1),p=Object(U.a)(l,2),d=p[0],m=p[1],y=function(){return m(!1)},b=Object(F.jsx)(A.a,{variant:"primary",onClick:function(){u.onSubmit&&"function"===typeof u.onSubmit&&u.onSubmit()},children:u.btnNameSubmit||"Understood"});return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(A.a,{variant:s,onClick:function(){return m(!0)},children:a}),Object(F.jsxs)(Y.a,Object(K.a)(Object(K.a)({className:"custom-modal"},u),{},{show:d,onHide:y,children:[Object(F.jsx)(Y.a.Header,{closeButton:!0,children:Object(F.jsx)(Y.a.Title,{children:u.modalName})}),Object(F.jsx)(Y.a.Body,{children:t}),Object(F.jsxs)(Y.a.Footer,{children:[Object(F.jsx)(A.a,{variant:"secondary",onClick:function(){y(),u.onClose&&"function"===typeof u.onClose&&u.onClose()},children:u.btnNameClose||"Close"}),!0===c?"":b]})]}))]})},X=function(e){var t=e.data,n=(void 0===t?[]:t).map((function(e){var t=e.name,n=e.balance;return Object(F.jsxs)(D.a,{className:"balance-item",children:[Object(F.jsx)("div",{className:"balance-item__name",children:t}),Object(F.jsx)("div",{className:"balance-item__value",children:n})]})}));return Object(F.jsx)(q,{centered:"true",btnVariant:"warning",btnName:"MY WALLET",disableSubmit:!0,modalName:"".concat(B," Wallet"),className:"balance-modal",children:Object(F.jsx)("div",{children:Object(F.jsx)(P.a,{children:Object(F.jsx)(_.a,{children:n})})})})},z=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderCurrentAddressBox",value:function(){var e=this;if(!1===this.props.wallet.connected)return"Not Connected";if(!this.props.balance)return"Loading";var t=["native","token"],n=Object.keys(this.props.balance).reduce((function(n,a){return t.includes(a)&&n.push({name:a,balance:e.props.balance[a]}),n}),[]);return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(D.a,{lg:12,sm:12,md:12,children:Object(F.jsx)(X,{data:Object(N.a)(n)})})})}},{key:"getWalletBtn",value:function(){return this.props.wallet.connected&&this.props.wallet.valid_network?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:"ml-auto",children:this.renderCurrentAddressBox()}),Object(F.jsx)("div",{className:"",children:Object(F.jsx)(A.a,{disabled:!0,"aria-controls":"basic-navbar-nav",children:"WALLET CONNECTED"})})]}):this.props.wallet.connected&&!this.props.wallet.valid_network?Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"ml-auto",children:Object(F.jsx)(A.a,{disabled:!0,"aria-controls":"basic-navbar-nav",children:"INCORRECT NETWORK"})})}):void A.a}},{key:"render",value:function(){return Object(F.jsxs)(S.a,{className:"custom-header",bg:"light",expand:"lg",children:[Object(F.jsx)(c.b,{className:"navbar-brand",to:"/",children:B}),this.getWalletBtn()]})}}]),n}(i.a.Component);var Q=Object(y.b)((function(e){return{wallet:e.wallet,balance:e.balance}}))(z),Z=function(e){var t=e.links,n=e.active,a=Object(r.useState)(n),i=Object(U.a)(a,2),s=i[0],o=i[1];return Object(F.jsx)("div",{className:"page-navigation",children:Object(F.jsx)(P.a,{children:Object(F.jsx)(_.a,{children:Object(F.jsx)(D.a,{children:Object(F.jsx)("div",{className:"page-navigation__wrapper",children:t.map((function(e){var t=e.name,n=e.link;return Object(F.jsx)(c.b,{className:n===s?"active":"",to:n,onClick:function(){return o(n)},children:t})}))})})})})})},$=n(245),ee=n(110),te=n(21),ne=n.n(te),ae=n(38),re=n(52),ie=n.n(re),se=function(e){return function(t){Object(p.a)(a,t);var n=Object(d.a)(a);function a(e){var t;return Object(u.a)(this,a),(t=n.call(this,e)).state={matkaDetails:{}},t}return Object(l.a)(a,[{key:"generalContractCall",value:function(){var e=Object(ae.a)(ne.a.mark((function e(t,n,a){var r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r=t.methods)[n].apply(r,Object(N.a)(a)).call();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=new ie.a(new ie.a.providers.HttpProvider("https://data-seed-prebsc-1-s1.binance.org:8545/")),n=V.matka,a=L.matka,r=new t.eth.Contract(n,a);Promise.all([this.generalContractCall(r,"currentPool",[]),this.generalContractCall(r,"poolActive",[]),this.generalContractCall(r,"poolInterval",[]),this.generalContractCall(r,"operatorFee",[])]).then((function(t){var n,a=Object(U.a)(t,4),r=a[0],i=a[1],s=a[2],o=a[3];e.setState({matkaDetails:{currentPool:(n=r,Object.keys(n).filter((function(e,t){return!(t<Object.keys(n).length/2)})).reduce((function(e,t){return e[t]=n[t],e}),{})),poolActive:i,poolInterval:s,operatorFee:o}})})).catch((function(t){e.setState({matkaDetails:{currentPool:"",poolActive:"",poolInterval:"",operatorFee:"",allowance:""}})}))}},{key:"render",value:function(){return Object(F.jsx)(e,Object(K.a)({},this.state))}}]),a}(r.Component)},oe=(n(521),n(248)),ce=n.n(oe),ue=n(48),le=n(249),pe=n(250),de=n.n(pe),me={connected:!1,address:"",chain_id:null,valid_network:!1},ye={},be={wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n=t.payload,a=n.address,r=n.chain_id;return Object(K.a)(Object(K.a)({},e),{},{connected:!0,address:a,chain_id:r});case h:return Object(K.a)(Object(K.a)({},e),{},{connected:!1});case j:var i=t.payload.address;return Object(K.a)(Object(K.a)({},e),{},{address:i});case v:var s=t.payload.chain_id;return Object(K.a)(Object(K.a)({},e),{},{chain_id:s});case O:return Object(K.a)(Object(K.a)({},e),{},{valid_network:!0});case w:return Object(K.a)(Object(K.a)({},e),{},{valid_network:!1});default:return e}},balance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(K.a)(Object(K.a)({},e),t.payload);default:return e}}};function he(e){var t=Math.pow(10,18);return parseFloat(e)/t}var fe,je,ve=Object(ue.a)(le.a,de.a,(function(e){return function(t){return function(n){if([b,v,j].includes(n.type)){var a=n.payload.address;Promise.all([De("balanceOf","token","view",a),Ne(a)]).then((function(t){var n=Object(U.a)(t,2),a=n[0],r=n[1];e.dispatch({type:f,payload:{token:he(a),native:he(r)}})})).catch((function(e){alert("error")}))}t(n)}}}),(function(e){return function(t){return function(n){if([b,v].includes(n.type)){var a=n.payload.chain_id;String(a).startsWith("0x")&&/[0-9A-Fa-f]{6}/g.test(a)&&(a=parseInt(a,16)),97===a?e.dispatch(M()):e.dispatch(C())}t(n)}}})),Oe=Object(ue.e)(Object(ue.c)(Object(K.a)({},be)),{},ve);function we(){return Boolean(window.ethereum)}function xe(){return ge.apply(this,arguments)}function ge(){return(ge=Object(ae.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(ae.a)(ne.a.mark((function e(){var t,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we()){e.next=3;break}return e.abrupt("return",Oe.dispatch(k()));case 3:if("metamask"===Ce()){e.next=5;break}return e.abrupt("return",Oe.dispatch(k()));case 5:return e.next=7,window.ethereum.enable();case 7:return ke(),e.t0=ie.a,e.next=11,xe();case 11:return e.t1=e.sent,je=new e.t0(e.t1),e.next=15,je.eth.getAccounts();case 15:return t=e.sent,fe=t,e.next=19,je.eth.getChainId();case 19:return n=e.sent,e.abrupt("return",Oe.dispatch(x({address:t[0],chain_id:n})));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return Me.apply(this,arguments)}function Me(){return(Me=Object(ae.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.ethereum.removeAllListeners(),window.ethereum.on("accountsChanged",function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.eth.getAccounts();case 2:n=e.sent,fe=n,Oe.dispatch(T(n[0]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.ethereum.on("chainChanged",function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.eth.getChainId();case 2:n=e.sent,Oe.dispatch(g(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.ethereum.on("connect",function(){var e=Object(ae.a)(ne.a.mark((function e(t){var n,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ie.a,e.next=3,xe();case 3:return e.t1=e.sent,je=new e.t0(e.t1),e.next=7,je.eth.getAccounts();case 7:return n=e.sent,e.next=10,je.eth.getChainId();case 10:return a=e.sent,fe=n,e.abrupt("return",Oe.dispatch(x({address:n[0],chain_id:a})));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.ethereum.on("disconnect",(function(e){console.log("disconnect",e)})),window.ethereum.on("message",(function(e){console.log("message",e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(){return!0!==we()?null:window.web3.currentProvider.isMetaMask?"metamask":window.web3.currentProvider.isTrust?"trust":window.web3.currentProvider.isStatus?"status":"undefined"!==typeof window.SOFA?"coinbase":"undefined"!==typeof window.__CIPHER__?"cipher":"EthereumProvider"===window.web3.currentProvider.constructor.name?"mist":"Web3FrameProvider"===window.web3.currentProvider.constructor.name?"parity":window.web3.currentProvider.host&&-1!==window.web3.currentProvider.host.indexOf("infura")?"infura":window.web3.currentProvider.host&&-1!==window.web3.currentProvider.host.indexOf("localhost")?"localhost":"unknown"}var Ne=function(e){return new ie.a(window.web3.currentProvider).eth.getBalance(e)};function De(e,t,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(ae.a)(ne.a.mark((function e(t,n,a){var r,i,s,o,c,u,l,p,d,m,y,b,h,f,j=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,r=new ie.a(window.web3.currentProvider),i=Pe(n),s=i.address,o=i.abi,c=new r.eth.Contract(o,s),u=j.length,l=new Array(u>3?u-3:0),p=3;p<u;p++)l[p-3]=j[p];if("view"!==a){e.next=12;break}return e.next=8,(d=c.methods)[t].apply(d,l).call();case 8:return m=e.sent,e.abrupt("return",m);case 12:return"approve"===t&&"token"===n?l[1]=W(l[1]):"bid"===t&&"matka"===n&&(l[0]=W(l[0])),e.next=15,(y=c.methods)[t].apply(y,l).estimateGas({from:fe[0]});case 15:return h=e.sent,e.next=18,(b=c.methods)[t].apply(b,l).send({from:fe[0],gas:h});case 18:return f=e.sent,e.abrupt("return",f);case 20:e.next=26;break;case 22:throw e.prev=22,e.t0=e.catch(0),console.log("resp",Se(e.t0)),e.t0;case 26:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}var Se=function(e){return"Internal JSON-RPC error."===e.message.split("\n")[0]};function Pe(e){return{address:L[e],abi:V[e]}}var _e=n(89),Ee=n(533),Ie=n(92),Fe=n(531),Be=n(76),Le=n.n(Be),Ve=function(e){var t=e.field,n=e.onChange,a=e.type,r=void 0===a?"text":a,i=e.value,s=e.setInput,o=e.onBlur,c=void 0===o?function(){}:o,u=e.formData,l=e.setFormData,p=Object(G.a)(e,["field","onChange","type","value","setInput","onBlur","formData","setFormData"]),d=null;switch(r){case"text":case"number":d=Object(F.jsx)("input",Object(K.a)({type:r,className:"form-control",onChange:function(e){n(e.target.value)},value:i,onBlur:function(e){return c(e,{setInput:s,formData:u,setFormData:l})}},p));break;case"select":d=Object(F.jsx)("select",{className:"form-control",onChange:function(e){n(e.target.value)},value:i,children:p.options.map((function(e,t){var n=e.label,a=e.value;return Object(F.jsx)("option",{value:a,children:n},t+1)}))});break;case"radio":d=Object(F.jsx)(F.Fragment,{children:p.options.map((function(e,a){var s=e.value,o=e.label;return Object(F.jsx)("div",{className:"input-dynamic-form__input-radio",children:Object(F.jsxs)(Fe.a.Label,{children:[Object(F.jsx)("input",{type:r,value:s,name:t,onClick:function(e){n(e.target.value)},defaultChecked:s===i},a+1),o]})},a+1)}))});break;default:return Object(F.jsx)(F.Fragment,{})}return Object(F.jsxs)(_.a,{children:[Object(F.jsx)(D.a,{lg:12,md:12,sm:12,children:Object(F.jsx)("label",{className:"form-control field-label",children:t})}),Object(F.jsx)(D.a,{className:"field-input",lg:12,md:12,sm:12,children:d})]})},Re=function(e){var t=Object(r.useState)(e.data.map((function(e){var t=e.value,n=void 0===t?"":t,a=e.defaultValue,r=void 0===a?"":a;return""!==n?n:""!==r?r:""}))),n=Object(U.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(!1),o=Object(U.a)(s,2),c=o[0],u=o[1],l=Object(r.useState)(e.data),p=Object(U.a)(l,2),d=p[0],m=p[1];Object(r.useEffect)((function(){m(e.data)}),[e.data]);var y=function(e,t){return i(Object.assign(Object(N.a)(a),Object(Ie.a)({},e,t)))},b=function(e,t){return m(Object.assign(Object(N.a)(d),Object(Ie.a)({},e,t)))};return Object(F.jsxs)(P.a,{className:"custom-input-1 dynamic-form",children:[d.map((function(e,t){var n=e.name,r=e.type,i=Object(G.a)(e,["name","type"]);return Object(F.jsx)(Ve,Object(K.a)({field:n,type:r,value:a[t],setInput:function(e,t){return y(e,t)},onChange:function(e){return y(t,e)},formData:d,setFormData:b},i),t)})),Object(F.jsx)(A.a,{onClick:function(){u(!0),De.apply(void 0,[e.method,e.contractType||"token",e.stateMutability].concat(Object(N.a)(a))).then((function(t){var n;if(Le.a.isObject(t)&&(n=JSON.stringify(t)),t&&t.transactionHash){var a=Object(F.jsx)(P.a,{children:Object(F.jsxs)(_.a,{children:[Object(F.jsx)(D.a,{lg:4,md:4,sm:4,children:Object(F.jsx)("span",{children:"Transaction Hash"})}),Object(F.jsx)(D.a,{lg:8,md:8,sm:8,children:Object(F.jsx)("span",{children:Object(F.jsx)("a",{target:"_blank",href:"".concat("https://testnet.bscscan.com/","/tx/").concat(t.transactionHash),children:"TX HASH"})})})]})});e.setModalContent(a)}else if(null!==t){var r=Object(F.jsx)(P.a,{children:Object(F.jsxs)(_.a,{children:[Object(F.jsx)(D.a,{lg:4,md:4,sm:4,children:Object(F.jsx)("span",{children:"Response"})}),Object(F.jsx)(D.a,{lg:8,md:8,sm:8,children:Object(F.jsx)("span",{children:n})})]})});e.setModalContent(r)}else e.setModalContent("error");u(!1)})).catch((function(t){if(Se(t)){var n=function(e){return JSON.parse(e.message.split("\n").slice(1).join("").trim())}(t);return e.setModalContent("Error: ".concat(n.message)),void u(!1)}alert("Error"),u(!1)}))},variant:"primary",style:{width:"10rem",float:"right"},disabled:c,children:"Submit"})]})},We=function(e){var t=e.title,n=e.inputs,a=e.stateMutability,r=e.setModalContent,i=e.contractType,s=void 0===i?"token":i;return Object(F.jsxs)(Ee.a,{className:"custom-card-2",children:[Object(F.jsx)(Ee.a.Title,{children:Object(F.jsxs)("div",{className:"title",children:[t,Object(F.jsx)("div",{className:"title--bottom"})]})}),Object(F.jsx)(Ee.a.Body,{children:Object(F.jsx)(Re,{data:n,method:t,contractType:s,stateMutability:a,setModalContent:r})})]})};function He(e){var t=e.startDate,n=e.endDate,a=new Date(t).getTime()/1e3,i=new Date(n).getTime()/1e3,s=Object(r.useState)(i-a),o=Object(U.a)(s,2),c=o[0],u=o[1];Object(r.useEffect)((function(){var e=setInterval((function(){u(c-1)}),1e3);return function(){return clearInterval(e)}}));var l=R(c);return Object(F.jsx)("div",{children:l})}var Je=function(e){var t=e.k,n=e.v;return Object(F.jsxs)(_.a,{children:[Object(F.jsx)(D.a,{className:"key",sm:6,md:6,lg:6,children:t}),Object(F.jsx)(D.a,{className:"value",sm:6,md:6,lg:6,children:n})]})},Ke=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={showModal:!1,modalContent:"",allowance:null},a.setModalContent=a.setModalContent.bind(Object(_e.a)(a)),a.setShowModal=a.setShowModal.bind(Object(_e.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getAllowance(),this.getEarning()}},{key:"componentDidUpdate",value:function(e){this.props.wallet.address!==e.wallet.address&&(this.getAllowance(),this.getEarning())}},{key:"getEarning",value:function(){var e=this;De("pendingBalance","matka","view",this.props.wallet.address).then((function(t){console.log("yyy",t),e.setState({earning:t})})).catch((function(e){return console.log(e)}))}},{key:"getAllowance",value:function(){var e=this;De("allowance","token","view",this.props.wallet.address,L.matka).then((function(t){e.setState({allowance:t})})).catch((function(e){return console.log(e)}))}},{key:"setShowModal",value:function(){this.setState({showModal:!0})}},{key:"setModalContent",value:function(e){this.setState({modalContent:e,showModal:!0})}},{key:"renderAllMatkaDetails",value:function(){var e=this;return this.props.matkaDetails.currentPool?Object(F.jsx)(P.a,{children:Object.keys(this.props.matkaDetails.currentPool).map((function(t){return{k:t,v:e.props.matkaDetails.currentPool[t]}})).map((function(e){return Je(e)}))}):""}},{key:"renderCurrentPool",value:function(){return this.props.matkaDetails.currentPool?Object(F.jsxs)(P.a,{children:[Je({k:"Can Bet ",v:"".concat(this.props.matkaDetails.poolActive&&(new Date).getTime()<1e3*this.props.matkaDetails.currentPool.endTime)}),Je({k:"Pool Number",v:"".concat(this.props.matkaDetails.currentPool.poolId)}),Je({k:"Total Amount In Pool",v:H(this.props.matkaDetails.currentPool.totalPoolAmount)}),Je({k:"Bet End In (".concat(J,")"),v:Object(F.jsx)(He,{startDate:(new Date).getTime(),endDate:1e3*this.props.matkaDetails.currentPool.endTime})})]}):""}},{key:"renderApprove",value:function(){var e={inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"};return Object(F.jsx)(We,{title:e.name,contractType:"token",inputs:e.inputs.map((function(e){Le.a.isEmpty(e.name)&&(e.name=e.type);var t={name:e.name,type:"text"};return"spender"===e.name&&(t.disabled=!0,t.value=L.matka),Object(K.a)({},t)})),stateMutability:e.stateMutability,setShowModal:this.setShowModal,setModalContent:this.setModalContent},1)}},{key:"renderBet",value:function(){var e=this,t={inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"number",type:"uint256"}],name:"bid",outputs:[],stateMutability:"nonpayable",type:"function"};return Object(F.jsx)(We,{title:t.name,contractType:"matka",inputs:t.inputs.map((function(t){Le.a.isEmpty(t.name)&&(t.name=t.type);var n={name:t.name,type:"text"};return"amount"===t.name&&(n.defaultValue=H(e.state.allowance)),Object(K.a)({},n)})),stateMutability:t.stateMutability,setShowModal:this.setShowModal,setModalContent:this.setModalContent},0)}},{key:"renderClaimReward",value:function(){var e={inputs:[],name:"withrawRewards",outputs:[],stateMutability:"nonpayable",type:"function"};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(We,{title:e.name,contractType:"matka",inputs:e.inputs.map((function(e){Le.a.isEmpty(e.name)&&(e.name=e.type);var t={name:e.name,type:"text"};return Object(K.a)({},t)})),stateMutability:e.stateMutability,setShowModal:this.setShowModal,setModalContent:this.setModalContent},0),Object(F.jsxs)("div",{className:"u-float-r earning",children:["Earning\xa0:\xa0",this.state.earning," Token"]})]})}},{key:"renderFunc",value:function(){return null===this.state.allowance?"loading":0==this.state.allowance?this.renderApprove():this.renderBet()}},{key:"render",value:function(){var e=this;return Object(F.jsxs)("div",{className:"single-matka",children:[Object(F.jsx)(P.a,{children:Object(F.jsxs)(_.a,{children:[Object(F.jsxs)(D.a,{lg:6,sm:12,md:6,className:"single-matka-section left",children:[Object(F.jsx)("div",{className:"single-matka-section--title",children:"Matka Details"}),Object(F.jsx)("div",{className:"single-matka-section--body",children:this.renderClaimReward()})]}),Object(F.jsxs)(D.a,{lg:6,sm:12,md:6,className:"single-matka-section",children:[Object(F.jsx)("div",{className:"single-matka-section--title",children:"BET"}),Object(F.jsx)("div",{className:"single-matka-section--body",children:this.renderFunc()})]})]})}),Object(F.jsxs)(Y.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})},children:[Object(F.jsx)(Y.a.Header,{closeButton:!0,children:Object(F.jsx)(Y.a.Title,{children:"MATKA"})}),Object(F.jsx)(Y.a.Body,{children:this.state.modalContent}),Object(F.jsx)(Y.a.Footer,{children:Object(F.jsx)(A.a,{variant:"secondary",onClick:function(){return e.setState({showModal:!1})},children:"Close"})})]})]})}}]),n}(i.a.Component);var Ue=Object(y.b)((function(e){return{wallet:e.wallet}}))(Ke),Ge=function(e){var t=e.k,n=e.v;return Object(F.jsxs)(_.a,{children:[Object(F.jsx)(D.a,{className:"key",sm:6,md:6,lg:6,children:t}),Object(F.jsx)(D.a,{className:"value",sm:6,md:6,lg:6,children:n})]})},Ye=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderCurrentPool",value:function(){return this.props.matkaDetails.currentPool?Object(F.jsxs)(P.a,{children:[Ge({k:"Can Bet ",v:"".concat(this.props.matkaDetails.poolActive&&(new Date).getTime()<1e3*this.props.matkaDetails.currentPool.endTime)}),Ge({k:"Pool Number",v:"".concat(this.props.matkaDetails.currentPool.poolId)}),Ge({k:"Total Amount In Pool",v:H(this.props.matkaDetails.currentPool.totalPoolAmount)}),Ge({k:"Bet End In (".concat(J,")"),v:Object(F.jsx)(He,{startDate:(new Date).getTime(),endDate:1e3*this.props.matkaDetails.currentPool.endTime})})]}):""}},{key:"render",value:function(){return Object(F.jsx)("div",{className:"single-matka",children:Object(F.jsx)(P.a,{children:Object(F.jsx)(_.a,{children:Object(F.jsxs)(D.a,{lg:12,sm:12,md:12,className:"single-matka-section",children:[Object(F.jsx)("div",{className:"single-matka-section--title",children:"Matka Details"}),Object(F.jsx)("div",{className:"single-matka-section--body",children:this.renderCurrentPool()})]})})})})}}]),n}(i.a.Component),qe=Ue,Xe=Object(ue.d)(se)(Ye),ze=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){!function(){Te.apply(this,arguments)}()}},{key:"render",value:function(){var e=window.location.pathname;return Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)($.a,{children:function(e){var t=e.loading,n=e.isLatestVersion,a=e.refreshCacheAndReload;return t||(console.log("UI Version:",ee.version),t||n||a()),null}}),Object(F.jsx)(Q,{}),Object(F.jsx)(Z,{links:[].concat([{link:"/",name:"home"},{link:"/single-matka",name:"Single Matka"}]),active:e}),Object(F.jsxs)(m.c,{children:[Object(F.jsx)(m.a,{exact:!0,path:"/single-matka",component:qe}),Object(F.jsx)(m.a,{path:"/",component:Xe})]})]})}}]),n}(r.Component),Qe=Object(y.b)(null,a)(ze),Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,535)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};o.a.render(Object(F.jsx)(i.a.StrictMode,{children:Object(F.jsx)(y.a,{store:Oe,children:Object(F.jsx)(c.a,{basename:"/",children:Object(F.jsx)(Qe,{})})})}),document.getElementById("root")),Ze()}},[[523,1,2]]]);
//# sourceMappingURL=main.c7fd6556.chunk.js.map